import{_ as J,a as Y,b as Z,c as ee,d as te}from"../modules/unplugin-icons-CCNumgRB.js";import{d as T,c as b,i as f,B as t,o as i,z as v,b as g,e,l as n,F as B,x as $,g as j,a8 as se,ac as oe,ad as le,h as z,p as Q,a as U,t as E,E as G,N as ne,a9 as ae,K as re,ae as ie,a2 as ce,k as N,af as ue}from"../modules/vue-D-wO8WxY.js";import{b as V,k as de,r as pe,C as me,u as ve,c as H,j as _e,l as fe,d as xe,m as be,n as ge,o as q,q as ke,g as he,t as Ce,v as ye,x as we}from"../index-BYZ0yBO1.js";import{u as Se,r as Ne,a as $e,S as K,I as O,Q as je,b as ze,o as Ie,N as Fe,G as Me,C as De}from"./ContextMenu-Bs1KU_VQ.js";import{S as qe}from"./bottom-BdemTt_4.js";import{N as Be}from"./NoteDisplay-Cexny-oy.js";import Te from"./DrawingControls-DL3_FFjK.js";import{u as Ve}from"./DrawingPreview-CAqmim01.js";import"../modules/shiki-BSXOk28D.js";import"./context-DslTPXew.js";import"../casareal-m-urd6fx.js";const Re=T({__name:"NoteStatic",props:{no:{type:Number,required:!0},class:{type:String,required:!1},clicksContext:{type:null,required:!1}},setup(a){const r=a,{info:s}=Se(r.no);return(u,c)=>{var o,x;return i(),b(Be,{class:f(r.class),note:(o=t(s))==null?void 0:o.note,"note-html":(x=t(s))==null?void 0:x.noteHTML,"clicks-context":u.clicksContext},null,8,["class","note","note-html","clicks-context"])}}}),Pe=V(Re,[["__file","/home/runner/work/jjug-2022-fall-slide/jjug-2022-fall-slide/node_modules/@slidev/client/internals/NoteStatic.vue"]]),W=a=>(Q("data-v-52a29648"),a=a(),U(),a),Le=["title"],Ee={class:"flex gap-0.5 items-center min-w-16 font-mono mr1"},Ge=W(()=>e("div",{"flex-auto":""},null,-1)),He={"text-primary":""},Ke=W(()=>e("span",{op25:""},"/",-1)),Oe={op50:""},Qe=["min","max"],Ue=T({__name:"ClicksSlider",props:{clicksContext:{type:null,required:!0}},setup(a){const r=a,s=v(()=>r.clicksContext.total),u=v(()=>de(0,r.clicksContext.clicksStart,s.value)),c=v(()=>s.value-u.value+1),o=v({get(){return r.clicksContext.current>s.value?-1:r.clicksContext.current},set(k){r.clicksContext.current=k}}),x=v(()=>pe(u.value,s.value+1));function I(){(o.value<0||o.value>s.value)&&(o.value=0)}return(k,d)=>{const F=J;return i(),g("div",{class:f(["flex gap-1 items-center select-none",c.value?"":"op50"]),title:`Clicks in this slide: ${c.value}`},[e("div",Ee,[n(F,{"text-sm":"",op50:""}),Ge,o.value>=0&&o.value!==t(me)?(i(),g(B,{key:0},[e("span",He,$(o.value),1),Ke],64)):j("v-if",!0),e("span",Oe,$(s.value),1)]),e("div",{relative:"","flex-auto":"",h5:"","font-mono":"",flex:"~",onDblclick:d[2]||(d[2]=l=>o.value=k.clicksContext.total)},[(i(!0),g(B,null,se(x.value,l=>(i(),g("div",{key:l,border:"y main","of-hidden":"",relative:"",class:f([l===0?"rounded-l border-l":"",l===s.value?"rounded-r border-r":""]),style:z({width:c.value>0?`${1/c.value*100}%`:"100%"})},[e("div",{absolute:"","inset-0":"",class:f(l<=o.value?"bg-primary op15":"")},null,2),e("div",{class:f([+l==+o.value?"text-primary font-bold op100 border-primary":"op30 border-main",l===0?"rounded-l":"",l===s.value?"rounded-r":"border-r-2"]),"w-full":"","h-full":"","text-xs":"",flex:"","items-center":"","justify-center":"","z-1":""},$(l),3)],6))),128)),oe(e("input",{"onUpdate:modelValue":d[0]||(d[0]=l=>o.value=l),class:"range",absolute:"","inset-0":"",type:"range",min:u.value,max:s.value,step:1,"z-10":"",op0:"",style:z({"--thumb-width":`${1/(c.value+1)*100}%`}),onMousedown:I,onFocus:d[1]||(d[1]=l=>{var y;return(y=l.currentTarget)==null?void 0:y.blur()})},null,44,Qe),[[le,o.value]])],32)],10,Le)}}}),We=V(Ue,[["__scopeId","data-v-52a29648"],["__file","/home/runner/work/jjug-2022-fall-slide/jjug-2022-fall-slide/node_modules/@slidev/client/internals/ClicksSlider.vue"]]),R=a=>(Q("data-v-d0ba6bbb"),a=a(),U(),a),Ae={class:"bg-main h-full slidev-presenter"},Xe=R(()=>e("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1)),Je={class:"relative grid-section next flex flex-col p-2 lg:p-4"},Ye=R(()=>e("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1)),Ze={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},et={class:"border-t border-main py-1 px-2 text-sm"},tt={class:"grid-section bottom flex"},st=R(()=>e("div",{"flex-auto":""},null,-1)),ot={class:"text-2xl pl-2 pr-6 my-auto tabular-nums"},lt={class:"progress-bar"},nt=T({__name:"presenter",setup(a){const r=E();Ne(),$e(r);const{clicksContext:s,currentSlideNo:u,currentSlideRoute:c,hasNext:o,nextRoute:x,slides:I,queryClicks:k,getPrimaryClicks:d,total:F}=ve(),{isDrawing:l}=Ve(),y=H.titleTemplate.replace("%s",H.title||"Slidev");_e({title:`Presenter - ${y}`}),E(!1);const{timer:A,resetTimer:P}=fe(),X=v(()=>I.value.map(S=>xe(S))),p=v(()=>s.value.current<s.value.total?[c.value,s.value.current+1]:o.value?[x.value,0]:null),w=v(()=>p.value&&X.value[p.value[0].no-1]);return G([c,k],()=>{w.value&&(w.value.current=p.value[1])},{immediate:!0}),ne(),ae(()=>{const S=r.value.querySelector("#slide-content"),_=re(ie()),M=ce();G(()=>{if(!M.value||l.value||!ge.value)return;const m=S.getBoundingClientRect(),h=(_.x-m.left)/m.width*100,C=(_.y-m.top)/m.height*100;if(!(h<0||h>100||C<0||C>100))return{x:h,y:C}},m=>{be.cursor=m})}),(S,_)=>{var L;const M=Y,m=Z,h=ee,C=te;return i(),g(B,null,[e("div",Ae,[e("div",{class:f(["grid-container",`layout${t(ke)}`])},[e("div",{ref_key:"main",ref:r,class:"relative grid-section main flex flex-col"},[n(K,{key:"main",class:"h-full w-full p-2 lg:p-4 flex-auto",onContextmenu:t(Ie)},{default:N(()=>[n(ze,{"render-context":"presenter"})]),_:1},8,["onContextmenu"]),(i(),b(We,{key:(L=t(c))==null?void 0:L.no,"clicks-context":t(d)(t(c)),class:"w-full pb2 px4 flex-none"},null,8,["clicks-context"])),Xe],512),e("div",Je,[p.value&&w.value?(i(),b(K,{key:"next",class:"h-full w-full"},{default:N(()=>[(i(),b(qe,{is:p.value[0].component,key:p.value[0].no,"clicks-context":w.value,class:f(t(he)(p.value[0])),route:p.value[0],"render-context":"previewNext"},null,8,["is","clicks-context","class","route"]))]),_:1})):j("v-if",!0),Ye]),j(" Notes "),(i(),g("div",Ze,[(i(),b(Pe,{key:`static-${t(u)}`,no:t(u),class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:z({fontSize:`${t(Ce)}em`}),"clicks-context":t(s)},null,8,["no","style","clicks-context"])),e("div",et,[n(O,{title:"Increase font size",onClick:t(ye)},{default:N(()=>[n(M)]),_:1},8,["onClick"]),n(O,{title:"Decrease font size",onClick:t(we)},{default:N(()=>[n(m)]),_:1},8,["onClick"]),j("v-if",!0)])])),e("div",tt,[n(Fe,{persist:!0}),st,e("div",{class:"timer-btn my-auto relative w-22px h-22px cursor-pointer text-lg",opacity:"50 hover:100",onClick:_[2]||(_[2]=(...D)=>t(P)&&t(P)(...D))},[n(h,{class:"absolute"}),n(C,{class:"absolute opacity-0"})]),e("div",ot,$(t(A)),1)]),(i(),b(Te,{key:2}))],2),e("div",lt,[e("div",{class:"progress h-3px bg-primary transition-all",style:z({width:`${(t(u)-1)/(t(F)-1)*100}%`})},null,4)])]),n(Me),n(je,{modelValue:t(q),"onUpdate:modelValue":_[3]||(_[3]=D=>ue(q)?q.value=D:null)},null,8,["modelValue"]),n(De)],64)}}}),xt=V(nt,[["__scopeId","data-v-d0ba6bbb"],["__file","/home/runner/work/jjug-2022-fall-slide/jjug-2022-fall-slide/node_modules/@slidev/client/pages/presenter.vue"]]);export{xt as default};
